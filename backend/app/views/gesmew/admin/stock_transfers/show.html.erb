<% content_for :page_title do %>
  <%= plural_resource_name(Gesmew::StockTransfer) %> (<%= @stock_transfer.number %>)
<% end %>

<% content_for :page_actions do %>
  <%= button_link_to Gesmew.t(:new_stock_transfer), new_admin_stock_transfer_path, { :icon => 'add', :class => 'btn-success' } %>
<% end if can? :create, Gesmew::StockTransfer %>

<fieldset>
  <legend><%= Gesmew.t(:stock_transfer) %></legend>

  <table class="table table-bordered">
    <tr>
      <td width="30%"><strong><%= Gesmew.t(:created_at) %></strong></td>
      <td><%= @stock_transfer.created_at %></td>
    </tr>
    <% if @stock_transfer.reference.present? %>
      <tr>
        <td><strong><%= Gesmew.t(:reference) %></strong></td>
        <td><%= @stock_transfer.reference %></td>
      </tr>
    <% end %>
  </table>

  <% if @stock_transfer.source_movements.present? %>
    <fieldset>
      <legend id="stock-location-source">
        <%= Gesmew.t(:source) %> / <%= @stock_transfer.source_location.name %>
      </legend>
      <%= render :partial => 'stock_movements', :object => @stock_transfer.source_movements %>
    </fieldset>
  <% end %>

  <% if @stock_transfer.destination_movements.present? %>
    <fieldset>
      <legend id="stock-location-destination">
        <%= Gesmew.t(:destination) %> / <%= @stock_transfer.destination_location.name %>
      </legend>
      <%= render :partial => 'stock_movements', :object => @stock_transfer.destination_movements %>
    </fieldset>
  <% end %>

</fieldset>
