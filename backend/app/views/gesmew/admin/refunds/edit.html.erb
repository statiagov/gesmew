<%= render partial: 'gesmew/admin/shared/order_tabs', locals: { current: :payments } %>

<% content_for :page_title do %>
  / <%= link_to "#{Gesmew.t(:payment)} #{@refund.payment.id}", admin_order_payment_path(@refund.payment.order, @refund.payment) %>
  / <%= Gesmew.t(:editing_resource, resource: Gesmew::Refund.model_name.human) %> <%= @refund.id %>
<% end %>

<%= form_for [:admin, @refund.payment.order, @refund.payment, @refund] do |f| %>
  <fieldset>
    <div data-hook="admin_refund_form_fields">
      <div class="form-group">
        <%= f.label :amount, Gesmew.t(:amount) %><br/>
        <%= @refund.amount %>
      </div>
      <div class="form-group">
        <%= f.label :refund_reason_id, Gesmew.t(:reason) %><br/>
        <%= f.collection_select(:refund_reason_id, refund_reasons, :id, :name, {}, {class: 'select2'}) %>
      </div>
    </div>

    <div class="form-actions" data-hook="buttons">
      <%= button Gesmew.t('actions.save'), 'save' %>
      <span class="or"><%= Gesmew.t(:or) %></span>
      <%= button_link_to Gesmew.t('actions.cancel'), gesmew.admin_order_payments_url(@refund.payment.order), icon: "delete" %>
    </div>
  </fieldset>
<% end %>
