<% content_for :page_actions do %>
  <% if @return_authorization.can_cancel? %>
    <%= button_link_to Gesmew.t('actions.cancel'), fire_admin_order_return_authorization_url(@order, @return_authorization, e: 'cancel'), method: :put, data: { confirm: Gesmew.t(:are_you_sure) }, icon: "delete" %>
  <% end %>
  <%= button_link_to Gesmew.t(:back), gesmew.admin_order_return_authorizations_url(@order), icon: 'arrow-left' %>
<% end %>

<%= render partial: 'gesmew/admin/shared/order_tabs', locals: { current: :return_authorizations } %>

<% content_for :page_title do %>
  / <%= Gesmew.t(:return_authorization) %> <%= @return_authorization.number %> (<%= Gesmew.t(@return_authorization.state.downcase) %>)
<% end %>

<%= render partial: 'gesmew/admin/shared/error_messages', locals: { target: @return_authorization } %>

<%= form_for [:admin, @order, @return_authorization] do |f| %>
  <fieldset>
    <%= render partial: 'form', locals: { f: f } %>

    <div class="form-actions" data-hook="buttons">
      <%= button Gesmew.t('actions.update'), 'repeat' %>
      <span class="or"><%= Gesmew.t(:or) %></span>
      <%= button_link_to Gesmew.t('actions.cancel'), gesmew.admin_order_return_authorizations_url(@order), icon: 'delete' %>
    </div>
  </fieldset>
<% end %>
